<!-- views/login.handlebars -->
{{> navbar }}

<main class="form-signin w-lg-50 mx">
  <div class="col-12">
    {{#if warning}}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      {{warning}}
      <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {{/if}}
    {{#if success}}
    <div class="alert alert-primary alert-dismissible fade show" role="alert">
      {{success}}
      <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {{/if}}
  </div>
  <img class="d-block mx-auto my-5" src="/images-bg-removed/logo-only.png" alt="" width="107" height="88">
  <h5 class="text-center mx-auto">Please sign up</h5>
  <div class="row px-3">
    <div class="col-3"></div>
    <div class="col-12 col-lg-6">

      <form action="/signup" method="post">

        <label class="my-3 mx-auto"> Choose the usertype</label>
        <select name="userType" onchange="changeUserType(event)" class="w-25 mx-auto"
          aria-label="Default select example" class="font-italic">
          <option value="participant" class="font-italic">Participant</option>
          <option value="organizer" class="font-italic">Organizer</option>
          <option value="judge" class="font-italic">Judge</option>
        </select>

        <div class="form-group mx-auto">
          <label for="username">Username</label>
          <input name="username" class="form-control" placeholder="Write your username..." />
        </div>
        <div class="form-group mx-auto">
          <label for="name">Name</label>
          <input name="name" class="form-control" placeholder="Write your name..." />
        </div>
        <div class="form-group">
          <div class="d-flex ">
            <div class="px-0 mr-1 w-50">
              <label for="password">Choose Password</label>
              <input name="passWord" type="password" class="form-control" placeholder="Enter a password."></input>
            </div>
            <div class="px-0 ml-1 w-50">
              <label for="password">Confirm Password</label>
              <input name="password" type="password" class="form-control" placeholder="Password must match"></input>
            </div>
          </div>
        </div>
        <div class="form-group mx-auto">
          <label for="email">Email</label>
          <input name="email" class="form-control" placeholder="Write your email..." />
        </div>
        <div class="form-group mx-auto">
          <label for="address">Address</label>
          <input name="address" class="form-control" placeholder="Write your address..." />
        </div>
        <div class="form-group mx-auto">
          <label for="username">Username</label>
          <input name="username" class="form-control" placeholder="Write your username..." />
        </div>
        <div id="participant">
          Participant
        </div>
        <div id="organizer" class="d-none">
          Organizer
        </div>
        <div id="judge" class="d-none">
          Judge
        </div>
        <button class="my-2 mx-auto rounded-pill btn text-white btn-primary" type="submit">Submit</button>
      </form>
      <script>
        function changeUserType(event) {
          let value = event.target.value
          let participantDiv = document.querySelector('#participant')
          let organizerDiv = document.querySelector('#organizer')
          let judgeDiv = document.querySelector('#judge')
          if (!participantDiv.classList.contains('d-none'))
            participantDiv.classList.add('d-none')
          if (!organizerDiv.classList.contains('d-none'))
            organizerDiv.classList.add('d-none')
          if (!judgeDiv.classList.contains('d-none'))
            judgeDiv.classList.add('d-none')
          document.querySelector(`#${value}`).classList.remove('d-none')
        }
      </script>
    </div>
    <div class="col-lg-3"></div>
  </div>
</main>

{{> footer }}